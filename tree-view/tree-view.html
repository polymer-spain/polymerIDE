<link rel="import" href="../bower_components/polymer/polymer.html">

<polymer-element name="tree-view">
    <template>

        <link rel="stylesheet" href="tree-view.css">

        <h2>Recursive Template</h2>
        <div class="treeview">
            <ul>
             <template repeat="{{ items }}" id="t">
              <li>
                    <template if="{{ !children }}">
                        <span>{{name}}</span>
                    </template>
                    <template if="{{ children }}">
                        <input type="checkbox" id="{{name}}"/>
                        <label for="{{name}}">
                            <span>{{name}}</span>
                        </label>
                         <ul>
                            <template ref="t" repeat="{{ children }}"></template>
                        </ul>
                    </template>
              </li>
            </template>
            </ul>
        </div>

    </template>

<script>
    Polymer("tree-view",{
        ready:function(){
            this.$.t.model={
                'items': [
                  {
                    'name': 'Africa',
                    'children': [
                      {
                        'name': 'Egypt'
                      },
                      {
                        'name': 'Kenya',
                        'children': [
                          {
                            'name': 'Nairobi'
                          },
                          {
                            'name': 'Mombasa'
                          }
                        ]
                      },
                      {
                        'name': 'Sudan',
                        'children': [{
                          'name': 'Khartoum'
                        }]
                      }
                    ]
                  },
                  {
                    'name': 'Asia',
                    'children': [
                      {
                        'name': 'China'
                      },
                      {
                        'name': 'India'
                      },
                      {
                        'name': 'Russia'
                      },
                      {
                        'name': 'Mongolia'
                      }
                    ]
                  },
                  {
                    'name': 'Australia',
                    'children':[{
                      'name': 'Commonwealth of Australia'
                    }]
                  },
                  {
                    'name': 'Europe',
                    'children': [
                      {
                        'name': 'Germany'
                      },
                      {
                        'name': 'France'
                      },
                      {
                        'name': 'Spain'
                      },
                      {
                        'name': 'Italy'
                      }
                    ]
                  },
                  {
                    'name': 'North America',
                    'children': [
                      {
                        'name': 'Mexico',
                        'children': [
                          {
                            'name': 'Mexico City'
                          },
                          {
                            'name': 'Guadalajara'
                          }
                        ]
                      },
                      {
                        'name': 'Canada',
                        'children': [
                          {
                            'name': 'Ottawa'
                          },
                          {
                            'name': 'Toronto'
                          }
                        ]
                      },
                      {
                        'name': 'United States of America'
                      }
                    ]
                  },
                  {
                    'name': 'South America',
                    'children': [
                      {
                        'name': 'Brazil'
                      },
                      {
                        'name': 'Argentina'
                      }
                    ]
                  }
                ]
              };

        }
    });
</script>

</polymer-element>
